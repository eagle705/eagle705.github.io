---
layout: post
title:  "2018 Google I/O Google Duplex"
subtitle:   "전화거는 AI"
categories: cslog
tags: deeplearning
comments: true
---

본 문서는 2018 Google I/O에서 소개된 Google Home, Duplex 등에 대해서 소개한다.   
Duplex Demo: https://www.youtube.com/watch?v=bd1mEm2Fy08

![googleIO](https://eagle705.github.io/img/2018google.png)

### Google I/O란?
- 날짜: 2018.5.8 – 5.10
- 장소: 미국 캘리포니아 주 마운틴뷰 쇼라인 앰피씨어터
- 주제 (총 12개): 
- **The Google Assistant & Home**
- AI and ML
- Android
- Android TV, Auto & Wear OS
- Google Maps
- Google Photos
- Google News
- VR and AR
- YouTube
- Accessibility
- Google Play & developer update
- Ads


### Google Duplex
이번 Google I/O의 단언컨데, 하이라이트 부분이라고 할 수 있다.
자세한 안내는 [이곳](https://ai.googleblog.com/2018/05/duplex-ai-system-for-natural-conversation.html)에서 확인해볼 수 있다.
### 추가기능
- 6개의 새로운 목소리를 선택할 수 있음
- John Legend의 목소리를 연말에 추가할 예정
- WaveNet 기술을 통해 음성합성 (pitch, pace, um pauses) 품질 향상
- 좀 더 복잡한 질문 (다중 작업)을 처리할 수 있게 준비하고 있음(ex. 뉴욕과 오스틴의 날씨가 어때?)
- Custom & Scheduled Routines 기능 제공 (ex. Hey Google, 저녁식사 시간이야 -> 음악재생, TV끄기 등등)
- 동화 재생기능(지난 2달간 130,000시간의 동화 재생)
-Pretty Please : 아이들이 공손하게 요청하는 법을 배우도록 유도
핸드폰에 탑재된 Assistant 기능을 시간, 장소, 최근 로그 등을 기반으로 redesign함
- 네비게이션, 음식 배달, 예약(Google Duplex) 기능 등도 제공할 예정
- 올해 안에 한국에도 Google Home & Google Home mini 출시 예정   
![googlehome](https://eagle705.github.io/assets/img/googlehome.png)

### Google Duplex란?
- An AI System for Accomplishing Real-World Tasks Over the Phone
- 전화로 예약을 잡아주는 시스템
- Demo Video at 1:07 https://youtu.be/bd1mEm2Fy08?t=1m7s   
- 자연스러운 대화를 위해  ”Ummm” 같은 추임새와  Latency (0~10초)를 추가함
![googleconversation](https://eagle705.github.io/assets/img/googleconversation.png)   

![googleduplex](https://eagle705.github.io/assets/img/googleduplex.png)



### Google Duplex에 적용된 기술
- Core Algorithm: RNN (Recurrent Neural Network) 기반
- Program: TensorFlow Extended (TFX) 로 구현
- Data: 익명 처리된 전화 통화 데이터
- Input: (Audio -> ASR -> Text) + Audio feature + Context 
- Model: RNN 
- Output: Text -> TTS -> Audio   

![Duplex](https://eagle705.github.io/assets/img/duplex.png)

전체적인 구조는 음성인식 -> 챗봇 -> 음성합성 의 메커니즘

### 딥러닝
- 왜 딥러닝으로 하면 잘 될까?   
->  Neural Network은 “어떤” 함수도 근사가 가능!   
![universalApprox](https://eagle705.github.io/assets/img/universalApprox.png)   
 
![MLP_playground](https://eagle705.github.io/assets/img/MLP_playground.gif)


### 왜 어려운가?
- 음성인식의 어려움:    
SOTA기술을 써도 아직 간단한 말도 인식이 안될 때도 많음 (에러가 다음 레이어에 전파됨)   
-> Data! Data! Data!
- 새로운 도메인:   
학습시킨 데이터 도메인에서는 잘되지만 새로운 도메인에는 모델이 잘 동작하지 않을 수 있음   
-> Real-time supervised learning으로 해결   
-> 모니터링하면서 관리자가 수정 후 일정 시간 학습이 되면 자동으로 할 수 있게 함
- Context 고려:   
챗봇이 Context를 기억하는 건 의외로 쉽지 않은 일임
-> Context vector를 지속적으로 넣어줘야함. 하지만 context가 보장된다는 보장은 없을 수도..!
- KB 연동의 어려움:   
Parametric model만으론 정보성 서비스를 할 수 없음, KB를 사용해야하는데 이 부분이 진짜 “기술”임   
-> Enitity Extraction!! Query Generation!! SPARQL!! DBpedia!! Freebase(구글이 인수)!! ~~요즘 하고 있는데 힘들다~~
- 도메인 선정:   
기본적으로 챗봇에서 Open domain인 Hardest한 문제임..!   
-> 도메인을 적절하게 좁히는게 서비스 수준의 퀄리티를 만드는 관건!!
![chatbotframework](https://eagle705.github.io/assets/img/chatbotframework.png)


### 느낀 점
- Hmm, uh 같은 추임새나 latency등 디테일을 고려하는 접근이 인상적
- 그동안의 연구 기술을 짧은 시간 안에 상용제품까지 접목시키는 역량이 놀라움! ~~Oh Google..!!~~


