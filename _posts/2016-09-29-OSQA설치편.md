---
layout: post
title: OSQA설치편
date:   2016-09-29 03:01:39
categories: others
---
OSQA를 AWS에 올려서 설치하는 과정을 담은 글이다.

몇가지 Reference와 함께 겪은 오류들 및 팁들을 기록할 예정이다.

### OSQA

OSQA의 경우 http://egloos.zum.com/mcchae/v/11013730
이곳에 있는 글을 가장 많이 참고 했다.
하지만 옛날에 쓴글이고 SVN을 Source 다운로드 경로로 써서 부적절한 가이드가 몇개 있었다.

(최종적으론 이 코드를 OSQA설치에 사용했다
  https://github.com/eagle705/osqa)

이에 대해서는
#### Django == 1.6 Version
을 설치하는 것으로 바꿔서 진행했다. 최근소스가 1.6버전이기 때문이다.

뿜었던 에러들이 몇개 있는데 크게는 세가지다
1. get git changeset django
가 없어요~ 왜 난걸까 장고때문인거같다..
2. html5lib
가 없거나 모듈이import가 안되요~
https://pypi.python.org/pypi/html5lib/1.0b10
최근 버전이 오히려 에러가 있어서 버전을 0.999로 낮춰서 사용했다. 이때 재설치시는 easy_install 이 아니라 pip install html5lib==0.999 를 사용하는게 편하다 왜냐면 그래야 옛 버전을 지워주기 때문이다. 버전을 확인하는 방법은
import html5lib
print html5lib.__version__
을 사용하면 된다.
3. generic
이건 오류가 왜 나는지 모르겠다. Django 버전 때문일까..
1.3->1.6->1.8->1.6 결국 다시 1.6으로 가서 성공했다.
4. Markdown
다 설치하고 나니 500 Server error 가 떳다. 검색해보니 Markdown 버전이 높았을때 생기는 에러란다..
pip install Markdown==2.4.1
명령어로 버전을 낮춰준다~~
http://stackoverflow.com/questions/31044631/500-server-error-in-osqa

### AWS
AWS의 경우 1년 무료 사용하는걸로 했다.
EC2를 이용했으며, 아래의 가이드를 사용했다.
연결하기
http://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/EC2_GetStarted.html
참고로 실수로 Ubuntu가 아닌 Amazon Linux를 설치해서 apt-get 명령어를 못쓰는 어이없는 실수를 했었다.
AWS를 이용시 별다른 이슈는 없지만 보안정책을 체크하는게 중요하다. 처음에 연결시간 초과로 계속 터미널에서 SSH접속이 안됐었는데 포트를 안열어준거였다. 역시..
http://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/TroubleshootingInstancesConnecting.html
pem이야 당연히 잘 갖고 있어야하는거고.. 보안정책에서 ssh를 위한 22port와 http접속을 위한 custom TCP 80 port를 열어줘야 한다. 우선 내 컴퓨터가 고정 IP가 아니다보니 0.0.0.0/0으로 누구나 접속이 가능하게 했다. PEM키가 없으니 일단 다른사람은 안되겠지만.
http://stackoverflow.com/questions/26338301/ec2-how-to-add-port-8080-in-security-group


### Django
그밖에 OSQA를 실행할때 장고서버를 돌리는데 자꾸 runserver뒤에 나오는 내 아이피가 안먹는 현상이 있었다. AWS의 public IP를 사용하고 있었는데, AWS의 Private IP를 사용해야 된단다..
http://stackoverflow.com/questions/9323076/ec2-hosts-django-with-ip-address-cant-be-assigned-to-error
python manage.py runserver 172.31.3.2:8080
명령어로 일단 돌렸다 (왜 8080포트만 되는지는 모르겠다.)
그리고 http인 80포트로 들어갈때 url이 8080이면 어떻게 연결되는건지 좀 확인하고 싶다..


### Github
깃헙에 테마 및 수정된 소스들이 올라온다. 체크하면 유용할것같고 다른 오픈소스도 마찬가지일것 같다.
https://github.com/search?utf8=%E2%9C%93&q=osqa

### 기타
나머지는 가이드 문서도 살펴보자
http://community.dzonesoftware.com/articles/40773/osqa-install.html

1.8 장고 되는거 찾다가..
https://github.com/dzone/osqa/issues/508

이친구를 결국 다운받아서 사용
https://github.com/eagle705/osqa

설치는 되었는데, 오류가 난다.. 이 부분 체크해보고..
다른 오픈소스도 고민해보자 github에 올라온게 있을테니
